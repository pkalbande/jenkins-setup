controller:
  admin:
    username: admin
    password: admin
    createSecret: true

  serviceType: ClusterIP
  
  installLatestPlugins: false
  installLatestSpecifiedPlugins: false
  
  installPlugins:
    - workflow-aggregator:latest
    - pipeline-model-definition:latest
    - job-dsl:latest
    - configuration-as-code:latest
    - git:latest
    - github-branch-source:latest
    - credentials-binding:latest
    - google-login:latest
    - matrix-auth:latest
    - role-strategy:latest

  resources:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 1
      memory: 2Gi

  javaOpts: "-Djenkins.install.runSetupWizard=false"

  additionalExistingSecrets:
    - name: google-oauth-secret
      keyName: client-id
    - name: google-oauth-secret
      keyName: client-secret

  JCasC:
    defaultConfig: false
    configScripts:
      jenkins-casc-config: |
        jenkins:
          systemMessage: "Jenkins configured using Helm and JCasC with Google SSO"
          numExecutors: 2
          mode: NORMAL
          securityRealm:
            googleOAuth2:
              clientId: "${google-oauth-secret-client-id}"
              clientSecret: "${google-oauth-secret-client-secret}"
              domain: "yourdomain.com"
          authorizationStrategy:
            projectMatrix:
              permissions:
                - "Overall/Administer:admin"
                - "Overall/Administer:user@yourdomain.com"
                - "Overall/Read:authenticated"
                - "Job/Build:authenticated"
                - "Job/Read:authenticated"
        credentials:
          system:
            domainCredentials:
              - credentials:
                  - usernamePassword:
                      scope: GLOBAL
                      id: github-credentials
                      username: your-username
                      password: your-token
                      description: GitHub Credentials
        jobs:
          - script: >
              job('seed-job') {
                description('Seed job to create other jobs')
                steps {
                  shell('echo "Hello from seed job"')
                }
              }

persistence:
  enabled: true
  size: 8Gi

rbac:
  create: true
  readSecrets: true
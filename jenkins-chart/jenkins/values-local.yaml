# Basic Jenkins Helm values.yaml for local ArgoCD deployment

controller:
  admin:
    username: admin
    password: admin
  serviceType: ClusterIP
  installPlugins:
    - workflow-aggregator:latest
    - workflow-job:latest
    - workflow-cps:latest
    - pipeline-stage-view:latest
    - pipeline-graph-analysis:latest
    - pipeline-model-definition:latest
    - kubernetes:latest
    - kubernetes-credentials-provider:latest
    - configuration-as-code:latest
    - configuration-as-code-groovy:latest
    - job-dsl:latest
    - role-strategy:latest
    - matrix-auth:latest
    - authorize-project:latest
    - oic-auth:latest
    - git:latest
    - github:latest
    - github-branch-source:latest
    - cloudbees-bitbucket-branch-source:latest
    - docker-workflow:latest
    - docker-plugin:latest
    - docker-commons:latest
    - credentials:latest
    - credentials-binding:latest
    - plain-credentials:latest
    - ssh-credentials:latest
    - maven-plugin:latest
    - gradle:latest
    - prometheus:latest
    - pipeline-utility-steps:latest
    - ansicolor:latest
    - timestamper:latest
    - ws-cleanup:latest
    - build-timeout:latest
    - copyartifact:latest
    - email-ext:latest
    - slack:latest
    - http_request:latest
    - blueocean:latest
    - dashboard-view:latest
    - build-monitor-plugin:latest
    - simple-theme-plugin:latest
    - kubernetes-cd:latest
    - pipeline-aws:latest
    - junit:latest
    - jacoco:latest
    - warnings-ng:latest
    - rebuild:latest
    - build-name-setter:latest
    - description-setter:latest

  resources:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 1
      memory: 2Gi
  containerEnv:
    - name: EXAMPLE_ENV
      value: "example-value"
  javaOpts: >-
    -Xms512m -Xmx2g
  serviceAnnotations:
    example-annotation: "true"
  replicaCount: 1
agent:
  enabled: true
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 1Gi
persistence:
  enabled: true
  size: 8Gi
rbac:
  create: true
  readSecrets: true

# JCasC configuration
controller:
  containerEnv:
    - name: OIDC_CLIENT_ID
      valueFrom:
        secretKeyRef:
          name: jenkins-google-oauth
          key: clientId
    - name: OIDC_CLIENT_SECRET
      valueFrom:
        secretKeyRef:
          name: jenkins-google-oauth
          key: clientSecret
  JCasC:
    configScripts:
      google-sso: |
        jenkins:
          securityRealm:
            oic:
              clientId: "${OIDC_CLIENT_ID}"
              clientSecret: "${OIDC_CLIENT_SECRET}"
              wellKnownOpenIDConfigurationUrl: "${OIDC_ISSUER_URL}/.well-known/openid-configuration"
              tokenServerUrl: "${OIDC_ISSUER_URL}/token"
              authorizationServerUrl: "${OIDC_ISSUER_URL}/authorize"
              userInfoServerUrl: "${OIDC_ISSUER_URL}/userinfo"
              userNameField: "email"
              tokenAuthEnabled: false
              emailField: "email"
              fullNameFieldName: "name"
              groupsFieldName: "groups"
              disableSslVerification: false
              logoutFromOpenidProvider: true
              postLogoutRedirectUrl: ""
              escapeHatchEnabled: false
              escapeHatchUsername: ""
              escapeHatchSecret: ""
              escapeHatchGroup: ""


